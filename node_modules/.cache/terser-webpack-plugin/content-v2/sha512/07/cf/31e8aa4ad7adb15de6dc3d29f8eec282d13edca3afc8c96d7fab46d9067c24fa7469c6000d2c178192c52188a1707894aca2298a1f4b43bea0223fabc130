{"map":"{\"version\":3,\"sources\":[\"js/chunk-177942fa.012e89a8.js\"],\"names\":[\"window\",\"push\",\"1da2\",\"module\",\"exports\",\"__webpack_require__\",\"p\",\"32b4\",\"__webpack_exports__\",\"r\",\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_c\",\"_self\",\"staticClass\",\"_v\",\"attrs\",\"src\",\"alt\",\"directives\",\"name\",\"rawName\",\"id\",\"_m\",\"staticRenderFns\",\"diary01vue_type_script_lang_js_\",\"[object Object]\",\"console\",\"log\",\"diaryviews_diary01vue_type_script_lang_js_\",\"componentNormalizer\",\"component\",\"Object\",\"7e7d\",\"8eb5\",\"9c61\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_diary01_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_diary01_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"d8d2\",\"f040\",\"fc6c\"],\"mappings\":\"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\"}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-177942fa\"],{\"1da2\":function(n,t,a){n.exports=a.p+\"img/ava03.4c1bb611.png\"},\"32b4\":function(n,t,a){\"use strict\";a.r(t);var e=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e(\"div\",{staticClass:\"h3-comp\"},[e(\"h3\",{staticClass:\"h3-title\"},[n._v(\"javascript闭包与作用域\")]),e(\"p\",{staticClass:\"p1\"},[n._v(\"\\n    闭包是js基础绕不过的一个坑，对于非计算机专业的初学者来说，也是前期的一个小难点。闭包的定义非常简单，能够访问其他作用域的变量的函数就能称之为闭包。但在理解闭包之前，我们应该先理清的是js这门语言中作用域的特点。\\n  \")]),e(\"p\",{staticClass:\"p2\"},[n._v(\"\\n    作用域说白了就是一个能产生作用的“域”，只有在这个范围内，变量和函数才能被访问和使用。超出了这个范围，就无法访问了。当html中的js代码放到浏览器运行时，所有的js代码都被放到了一个叫window的全局作用域中。es5中我们定义的所有全局变量，其实都是给window添加属性，所以会出现以下的情况。\\n  \")]),e(\"img\",{attrs:{src:a(\"8eb5\"),alt:\"闭包一\"}}),e(\"h4\",[n._v(\"作用域的嵌套\")]),e(\"p\",[n._v(\"\\n    作用域是可以嵌套的。由于js中没有块级作用域，我们常见的作用域嵌套都是函数作用域与函数作用域的嵌套。这里我们先来讲清一下函数定义和函数作用域产生的过程。\\n  \")]),e(\"p\",[n._v(\"首先，我们定义一个函数 hd\")]),e(\"div\",{staticClass:\"code-box\"},[e(\"div\",{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],attrs:{id:\"codeView\"}},[n._m(0)])]),e(\"p\",[n._v(\"\\n    我们在第二行将hd定义出来时，给window全局变量添加了一个名为hd的函数。此时它只是window的一个属性。但我们实际调用hd()时，window内部开辟了一块新的作用域，这块作用域内部有一个名为x的变量。用图片可以非常形象直观地将这种嵌套关系表现出来。\\n  \")]),e(\"img\",{attrs:{src:a(\"7e7d\"),alt:\"闭包二\"}}),e(\"p\",[n._v(\"\\n    从打印结果我们可以看到，hd()函数是可以访问到全局作用域中的y，但在hd()外全局作用域是访问不到hd()函数作用域中的x的。这是js作用域的特性之一，子作用域可以访问到父级作用域。在代码执行时，碰到相关的变量引用，\\n    函数会先在自己内部的函数作用域中寻找该变量，若变量存在则直接引用，若不存在，则访问上一级的父级作用域，若存在则引用，若不存在继续往上访问父级作用，若是最后在全局变量中依然找不到该变量，则会报错。\\n  \")]),e(\"p\",[n._v(\"以下代码中，hd函数会直接从函数作用域内部调用a，因此打印结果是5。\")]),e(\"div\",{staticClass:\"code-box\"},[e(\"div\",{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],attrs:{id:\"codeView\"}},[n._m(1)])]),e(\"p\",[n._v(\"接下来，我们看一段非常经典的代码。\")]),e(\"div\",{staticClass:\"code-box\"},[e(\"div\",{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],attrs:{id:\"codeView\"}},[n._m(2)])]),e(\"p\",[n._v(\"\\n    大部分学习闭包和js的人，都见过这段经典的代码。如果以前有过一些编程基础，看到这个还是有点懵的。因为在大部分语言里，我们看到大括号{\\n    }时，都下意识地把它理解成一个块级作用域。但在js中，es6出现之前是不存在块级作用域的。也就是说，var\\n    i = 0实际上把i定义到了全局变量window中去。\\n  \")]),e(\"img\",{attrs:{src:a(\"1da2\"),alt:\"闭包三\"}}),e(\"p\",[n._v(\"\\n    从图中可以看出，我们每一次执行for循环，都是调用全局变量中的i，因此当我们调用函数时，也是直接从window中获取i。最后不管调用数组中的哪个函数，打印的都是window.i，也就是经过三次i++以后的3。\\n  \")]),e(\"h4\",[n._v(\"let与const的出现\")]),e(\"p\",[n._v(\"\\n    es6中出现了let和const两个关键字，用于定义变量。let和var最大的不同在于使用let定义的变量存在块级作用域，不存在变量提升。我们看下面的代码\\n    ：\\n  \")]),e(\"div\",{staticClass:\"code-box\"},[e(\"div\",{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],attrs:{id:\"codeView\"}},[n._m(3)])]),e(\"p\",[n._v(\"\\n    如上可见，我们使用var定义的变量a是全局变量，可以从外部访问，使用let定义的变量b则只能在块级作用域中访问。\\n    现在我们再次回到这段for循环看一下。\\n  \")]),e(\"div\",{staticClass:\"code-box\"},[e(\"div\",{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],attrs:{id:\"codeView\"}},[n._m(4)])]),e(\"p\",[n._v(\"\\n    这段函数的执行结果不再是重复打印3，而是顺序打印0，1，2。在解释二者不同之前，我们先看一下这个for循环内部的结构是怎样的。\\n  \")]),e(\"img\",{attrs:{src:a(\"d8d2\"),alt:\"闭包四\"}}),e(\"p\",[n._v(\"\\n    从图中我们可以看到，使用let定义的i是存在于for体内的，每次执行for循环时，都在该块级作用域中新建一个变量i。当我们遍历调用arr中的函数时，fn()会从内部寻找i，由于内部没有i，再到上一级作用域中寻找，也就是for中的块级作用域寻找i，并将其打印出来。所以打印结果是0，1，2。\\n  \")]),e(\"h4\",[n._v(\"使用函数模拟块级作用域\")]),e(\"p\",[n._v(\"\\n    在let出现之前，如果我们需要一个块级作用域，要如何实现呢。从上面我们可以得知，js虽然没有块级作用域，但有函数作用域。使用函数经过封装，便能巧妙地模拟出块级作用域的效果。\\n    请看下面的代码。\\n  \")]),e(\"div\",{staticClass:\"code-box\"},[e(\"div\",{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],attrs:{id:\"codeView\"}},[n._m(5)])]),e(\"p\",[n._v(\"以上的js代码会打印出0，1，2。在分析代码之前，我们先画一下图。\")]),e(\"img\",{attrs:{src:a(\"f040\"),alt:\"闭包四\"}}),e(\"p\",[n._v(\"\\n    如上图所示。每次for循环中，自执行函数fn()都会执行，并将window.i进行形参赋值，将这个值复制一份放到函数内部作用域中。此时在函数fn()中存在一个变量i。而for循环运行了三次，内部便形成了三个不同的函数作用域(注意函数作用域是在函数执行时才形成的，因此在三次不同的循环中形成了三个不同的函数作用域，三个函数作用域中有三个不同的i)。每次函数执行时，都将该阶段的window.i赋值给形参，内部生成了一个新的变量i。\\n  \")]),e(\"p\",[n._v(\"\\n    在遍历arr数组，并将其中的函数执行时，函数会先从内部寻找i，找到后直接打印，没有访问全局变量中的window.i。以上代码便完成了使用函数模拟块级作用域的功能。\\n  \")]),e(\"p\",[n._v(\"那么什么是闭包呢？能够访问其他作用域的变量的函数，我们称之为闭包。\")]),e(\"p\",[n._v(\"我们将上面的代码稍微改一下\")]),e(\"div\",{staticClass:\"code-box\"},[e(\"div\",{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],attrs:{id:\"codeView\"}},[n._m(6)])]),e(\"p\",[n._v(\"\\n    为了方便说明，我们给匿名函数加上了一个名字。从代码中可以看到，fn2()是在fn1()内部进行定义的。fn2()执行时，也会形成一个函数作用域，该作用域是fn1()的函数作用域的子作用域，而fn2()打印的i，如上分析是fn1的形参赋值得来的。所以fn2实际上访问了fn1的作用域，从中取出了一个变量i，并将其打印出来。因此这个函数便是一个闭包。\\n  \")]),e(\"p\",[n._v(\"\\n    在理解了作用域以后，闭包的概念是不是变得特别简单？那么闭包能干嘛呢？我们来看一个场景。\\n  \")]),e(\"p\",[n._v(\"\\n    假如一个数组中存储着一批学生的成绩，我们需要拿到成绩在70-90之间的学生名单，我们可以这么实现\\n  \")]),e(\"div\",{staticClass:\"code-box\"},[e(\"div\",{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],attrs:{id:\"codeView\"}},[n._m(7)])]),e(\"p\",[n._v(\"\\n    但是我们突然又需要一批成绩在60以上，80以下的学生名单，那没办法，我们再来写一次\\n  \")]),e(\"div\",{staticClass:\"code-box\"},[e(\"div\",{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],attrs:{id:\"codeView\"}},[n._m(8)])]),e(\"p\",[n._v(\"\\n    这时我们很自然地想到，要封装一个函数，同时解决这两个或其他同类问题。我封装的代码如下：\\n  \")]),e(\"div\",{staticClass:\"code-box\"},[e(\"div\",{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],attrs:{id:\"codeView\"}},[n._m(9)])]),e(\"p\",[n._v(\"我们稍微分析以下便能发现，以上代码也使用了闭包。\")]),e(\"h4\",[n._v(\"闭包中的内存泄露问题\")]),e(\"p\",[n._v(\"我们来看下面这段代码。\")]),e(\"div\",{staticClass:\"code-box\"},[e(\"div\",{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],attrs:{id:\"codeView\"}},[n._m(10)])]),e(\"p\",[n._v(\"\\n    上面的代码中使用了一个简单的闭包，用来封装一个获取名字的函数。但在成功执行fn()后，由于getName()引用了obj中的name，obj对象无法被js的垃圾回收机制回收，导致了内存泄漏。\\n    我们将代码稍微修改一下，便能解决这个问题。\\n  \")]),e(\"div\",{staticClass:\"code-box\"},[e(\"div\",{directives:[{name:\"highlight\",rawName:\"v-highlight\"}],attrs:{id:\"codeView\"}},[n._m(11)])]),e(\"p\",[n._v(\"\\n    内存泄漏是闭包经常会出现的问题，稍不留心便会导致内存泄漏，因此使用闭包时要格外留意闭包中有没有无用的变量残留。\\n  \")])])},i=[function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"pre\",[n._v(\"        \"),a(\"code\",{staticClass:\"javascript\"},[n._v(\"\\n          var y = 2;\\n            function hd () {\\n              var x = 1;\\n              console.log(x); \\n              console.log(y);\\n            }\\n          hd() // => 1,\\n          console.log(x); // => ReferenceErroe , x不存在\\n        \")]),n._v(\"\\n      \")])},function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"pre\",[n._v(\"        \"),a(\"code\",{staticClass:\"javascript\"},[n._v(\"\\n          var a = 10;\\n          function hd() {\\n            var a = 5;\\n            console.log(a);\\n          }\\n          hd(); // => 5 \\n        \")]),n._v(\"\\n      \")])},function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"pre\",[n._v(\"        \"),a(\"code\",{staticClass:\"javascript\"},[n._v(\"\\n          var arr = [];\\n\\n          for(var i = 0;i < 3;i++){\\n            arr.push(function (){\\n            console.log(i);\\n            })\\n          }\\n\\n          arr.forEach(fn => {\\n            fn();\\n          })\\n\\n          // => 3，3，3 \\n        \")]),n._v(\"\\n      \")])},function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"pre\",[n._v(\"        \"),a(\"code\",{staticClass:\"javascript\"},[n._v(\"\\n          if(true){\\n            var a = 1;\\n            let b = 2\\n          }\\n\\n          console.log(a); // => 1\\n          console.log(b); // => 引用错误\\n        \")]),n._v(\"\\n      \")])},function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"pre\",[n._v(\"        \"),a(\"code\",{staticClass:\"javascript\"},[n._v(\"\\n          let arr = [];\\n          for(let i = 0;i < arr.length;i++){\\n              arr.push(function () {\\n              console.log(i)  \\n            })·\\n          }\\n          arr.forEach(fn => {\\n            fn(); // => 0,1,2\\n          })\\n        \")]),n._v(\"\\n      \")])},function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"pre\",[n._v(\"        \"),a(\"code\",{staticClass:\"javascript\"},[n._v(\"\\n          var arr = [];\\n          for (var i = 0;i < 3;i++){\\n            arr.push(function fn (i) {\\n                return function () {\\n                console.log(i)\\n                }\\n              }(i))\\n          }\\n\\n          arr.forEach(fn => {\\n            fn()\\n          })\\n\\n          // => 0,1,2\\n        \")]),n._v(\"\\n      \")])},function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"pre\",[n._v(\"        \"),a(\"code\",{staticClass:\"javascript\"},[n._v(\"\\n                var arr = [];\\n                for (var i = 0;i < 3;i++){\\n                    arr.push(function fn1 (i) {\\n                        return function fn2 () {\\n                            console.log(i)\\n                        }\\n                    }(i))\\n                }\\n        \")]),n._v(\"\\n      \")])},function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"pre\",[n._v(\"        \"),a(\"code\",{staticClass:\"javascript\"},[n._v(\"\\n            var arr = [];\\n            for (var i = 0;i < 3;i++){\\n                arr.push(function fn1 (i) {\\n                    return function fn2 () {\\n                        console.log(i)\\n                    }\\n                }(i))\\n            }\\n        \")]),n._v(\"\\n      \")])},function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"pre\",[n._v(\"        \"),a(\"code\",{staticClass:\"javascript\"},[n._v(\"\\n          arr.filter(function (item) {\\n              return (item > 60 && item < 80)\\n          })\\n        \")]),n._v(\"\\n      \")])},function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"pre\",[n._v(\"        \"),a(\"code\",{staticClass:\"javascript\"},[n._v(\"\\n          let between = function (a,b){\\n              return funcion(){\\n                  return item > a && item < b;\\n              }\\n          }\\n          arr.filter(between(60,80))\\n          arr.filter(between(70,90))\\n        \")]),n._v(\"\\n      \")])},function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"pre\",[n._v(\"        \"),a(\"code\",{staticClass:\"javascript\"},[n._v('\\n          function fn () {\\n              var obj = {\\n                  name : \"k\",\\n                  age : 22,\\n                  sex : \"无\"\\n              }\\n              return function(){\\n                  return obj.name\\n              }\\n          }\\n      \\n          var getName = fn();\\n          console.log(getName())\\n          console.log(obj)\\n        ')]),n._v(\"\\n      \")])},function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"pre\",[n._v(\"        \"),a(\"code\",{staticClass:\"javascript\"},[n._v('\\n          function fn(){\\n              var obj = {\\n                  name : \"k\",\\n                  age  : 22 ,\\n                  sex : \"无\"\\n              }\\n              var name = obj.name;\\n              obj = null;\\n              return function () {\\n                  return name;\\n              }\\n          }\\n        ')]),n._v(\"\\n      \")])}],r={created(){console.log(0)}},c=r,o=(a(\"9c61\"),a(\"2877\")),s=Object(o[\"a\"])(c,e,i,!1,null,null,null);t[\"default\"]=s.exports},\"7e7d\":function(n,t,a){n.exports=a.p+\"img/ava02.0a8d074b.png\"},\"8eb5\":function(n,t){n.exports=\"data:image/png;base64,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\"},\"9c61\":function(n,t,a){\"use strict\";var e=a(\"fc6c\"),i=a.n(e);i.a},d8d2:function(n,t,a){n.exports=a.p+\"img/ava04.bbb925de.png\"},f040:function(n,t,a){n.exports=a.p+\"img/ava05.f4ae7f79.png\"},fc6c:function(n,t,a){}}]);","extractedComments":[]}